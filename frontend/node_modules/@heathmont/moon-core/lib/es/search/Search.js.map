{"version":3,"sources":["../../../src/search/Search.tsx"],"names":["React","useRef","useState","Popup","SearchResults","SearchForm","SearchBox","SearchClearButton","SearchClearIcon","SearchInput","SearchInputIcon","Search","closeButton","hasBorder","onChange","onClear","onSubmit","placeholder","query","results","size","props","popupOpen","setPopupOpen","searchStr","setSearchStr","search","searchChange","e","target","value","clearSearch","stopPropagation","closePopup","openPopup"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react';\n\nimport Popup from './private/components/Popup';\nimport { SearchResults } from './private/components/SearchResults';\nimport { SearchForm } from './private/components/Styles';\nimport {\n  SearchBox,\n  SearchClearButton,\n  SearchClearIcon,\n  SearchInput,\n  SearchInputIcon,\n  SearchInputSize,\n} from './private/components/Input';\n\ninterface SearchProps {\n  closeButton?: JSX.Element;\n  hasBorder?: boolean;\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onClear?: () => void;\n  onSubmit?: (e: React.FormEvent<HTMLFormElement>) => void;\n  placeholder?: string;\n  query?: string;\n  results?: JSX.Element;\n  size?: SearchInputSize;\n}\n\nconst Search: React.FC<SearchProps> = ({\n  closeButton,\n  hasBorder = true,\n  onChange,\n  onClear,\n  onSubmit,\n  placeholder,\n  query = '',\n  results,\n  size = 'medium',\n  ...props\n}) => {\n  const [popupOpen, setPopupOpen] = useState(false);\n  const [searchStr, setSearchStr] = useState(query);\n  const search = useRef(null);\n\n  const searchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchStr(e.target.value);\n    onChange && onChange(e);\n  };\n\n  const clearSearch = (e: React.MouseEvent<HTMLElement>) => {\n    e.stopPropagation();\n    setSearchStr('');\n    onClear && onClear();\n  };\n\n  const closePopup = () => {\n    setPopupOpen(false);\n  };\n\n  const openPopup = () => {\n    setPopupOpen(true);\n  };\n\n  return (\n    <Popup\n      closeButton={closeButton}\n      closePopup={closePopup}\n      isOpen={popupOpen}\n      title={\n        <SearchForm onSubmit={onSubmit}>\n          <SearchBox size={size}>\n            <SearchInput\n              autoComplete=\"off\"\n              hasBorder={hasBorder}\n              inputSize={size}\n              onChange={searchChange}\n              onFocus={openPopup}\n              placeholder={placeholder}\n              ref={search}\n              required\n              type=\"text\"\n              value={searchStr}\n              {...props}\n            />\n            <SearchInputIcon inputSize={size} />\n            {searchStr && popupOpen && (\n              <SearchClearButton onClick={clearSearch}>\n                <SearchClearIcon />\n              </SearchClearButton>\n            )}\n            <input type=\"submit\" hidden />\n          </SearchBox>\n        </SearchForm>\n      }\n    >\n      <>\n        {popupOpen && results && (\n          <SearchResults results={results} />\n        )}\n      </>\n    </Popup>\n  );\n};\n\nexport default Search;\n"],"file":"Search.js"}