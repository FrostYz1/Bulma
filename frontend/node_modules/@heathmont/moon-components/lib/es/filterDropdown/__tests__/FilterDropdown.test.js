import React from 'react';
import { act, create } from 'react-test-renderer';
import { sportsbetDark, ThemeProvider } from '@heathmont/moon-themes';
import 'jest-styled-components';
import FilterDropdown from '../FilterDropdown';

var renderWithTheme = function renderWithTheme(component) {
  return /*#__PURE__*/React.createElement(ThemeProvider, {
    theme: sportsbetDark
  }, component);
};

describe('FilterDropdown', function () {
  test('renders by default', function () {
    var filterDropdown = create(renderWithTheme( /*#__PURE__*/React.createElement(FilterDropdown, {
      searchPlaceholder: "Search for a name...",
      onSearchChange: function onSearchChange() {}
    })));
    expect(filterDropdown).toMatchSnapshot();
  });
  test('renders without search input', function () {
    var filterDropdown = create(renderWithTheme( /*#__PURE__*/React.createElement(FilterDropdown, null)));
    expect(filterDropdown).toMatchSnapshot();
  });
  describe('when renders with onSearchChange handler', function () {
    var onSearchChangeMock = jest.fn();
    var filterDropdown;
    beforeAll(function () {
      filterDropdown = create(renderWithTheme( /*#__PURE__*/React.createElement(FilterDropdown, {
        searchPlaceholder: "Search for a name...",
        onSearchChange: onSearchChangeMock
      })));
    });
    describe('and then changing search input', function () {
      beforeAll(function () {
        var searchInput = filterDropdown.root.findByType('input');
        act(function () {
          return searchInput.props.onChange({
            target: {
              value: 'searchValue'
            }
          });
        });
      });
      test('calls onSearchChange handler with value', function () {
        expect(onSearchChangeMock).toHaveBeenCalledWith('searchValue');
      });
    });
  });
});
//# sourceMappingURL=FilterDropdown.test.js.map