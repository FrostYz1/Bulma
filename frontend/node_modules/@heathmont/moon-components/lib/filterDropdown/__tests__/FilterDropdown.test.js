"use strict";

var _react = _interopRequireDefault(require("react"));

var _reactTestRenderer = require("react-test-renderer");

var _moonThemes = require("@heathmont/moon-themes");

require("jest-styled-components");

var _FilterDropdown = _interopRequireDefault(require("../FilterDropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var renderWithTheme = function renderWithTheme(component) {
  return /*#__PURE__*/_react["default"].createElement(_moonThemes.ThemeProvider, {
    theme: _moonThemes.sportsbetDark
  }, component);
};

describe('FilterDropdown', function () {
  test('renders by default', function () {
    var filterDropdown = (0, _reactTestRenderer.create)(renderWithTheme( /*#__PURE__*/_react["default"].createElement(_FilterDropdown["default"], {
      searchPlaceholder: "Search for a name...",
      onSearchChange: function onSearchChange() {}
    })));
    expect(filterDropdown).toMatchSnapshot();
  });
  test('renders without search input', function () {
    var filterDropdown = (0, _reactTestRenderer.create)(renderWithTheme( /*#__PURE__*/_react["default"].createElement(_FilterDropdown["default"], null)));
    expect(filterDropdown).toMatchSnapshot();
  });
  describe('when renders with onSearchChange handler', function () {
    var onSearchChangeMock = jest.fn();
    var filterDropdown;
    beforeAll(function () {
      filterDropdown = (0, _reactTestRenderer.create)(renderWithTheme( /*#__PURE__*/_react["default"].createElement(_FilterDropdown["default"], {
        searchPlaceholder: "Search for a name...",
        onSearchChange: onSearchChangeMock
      })));
    });
    describe('and then changing search input', function () {
      beforeAll(function () {
        var searchInput = filterDropdown.root.findByType('input');
        (0, _reactTestRenderer.act)(function () {
          return searchInput.props.onChange({
            target: {
              value: 'searchValue'
            }
          });
        });
      });
      test('calls onSearchChange handler with value', function () {
        expect(onSearchChangeMock).toHaveBeenCalledWith('searchValue');
      });
    });
  });
});
//# sourceMappingURL=FilterDropdown.test.js.map