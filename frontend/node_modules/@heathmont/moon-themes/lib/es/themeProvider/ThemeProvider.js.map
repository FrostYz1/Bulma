{"version":3,"sources":["../../../src/themeProvider/ThemeProvider.tsx"],"names":["React","ThemeProvider","StyledThemeProvider","themeTransitionClass","themeTransitionDuration","ThemeTransition","children","theme","hasTransition","initialTheme","useRef","handleChange","themeObject","current","document","documentElement","classList","add","setTimeout","remove"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAa,IAAIC,mBAA1B,QAAqD,mBAArD;AAGA,SACEC,oBADF,EAEEC,uBAFF,EAGEC,eAHF,QAIO,oCAJP;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAOA,IAAMJ,aAA2C,GAAG,SAA9CA,aAA8C,OAI9C;AAAA,MAHJK,QAGI,QAHJA,QAGI;AAAA,MAFJC,MAEI,QAFJA,KAEI;AAAA,MADJC,aACI,QADJA,aACI;AACJ,MAAMC,YAAY,GAAGT,KAAK,CAACU,MAAN,CAAa,IAAb,CAArB;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,WAAD,EAAwB;AAC3C,QAAIJ,aAAJ,EAAmB;AACjB,UAAIC,YAAY,CAACI,OAAjB,EAA0B;AACxBJ,QAAAA,YAAY,CAACI,OAAb,GAAuB,KAAvB;AACA,eAAOD,WAAP;AACD;AAED;;;AACAE,MAAAA,QAAQ,IAAIA,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAmCC,GAAnC,CAAuCd,oBAAvC,CAAZ;AACAe,MAAAA,UAAU,CAAC,YAAM;AACfJ,QAAAA,QAAQ,IACHA,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAmCG,MAAnC,CAA0ChB,oBAA1C,CADL;AAED,OAHS,EAGPC,uBAAuB,GAAG,EAHnB,CAAV;AAKA,aAAOQ,WAAP;AACD;;AAED,WAAOA,WAAP;AACD,GAlBD;;AAoBA,sBACE,oBAAC,mBAAD;AAAqB,IAAA,KAAK,EAAE;AAAA,aAAMD,YAAY,CAACJ,MAAD,CAAlB;AAAA;AAA5B,kBACE,oBAAC,KAAD,CAAO,QAAP,qBACE,oBAAC,eAAD,OADF,EAEGD,QAFH,CADF,CADF;AAQD,CAnCD;;AAqCA,eAAeL,aAAf","sourcesContent":["import React from 'react';\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components';\n\nimport { Theme } from '../sharedTokens/sharedTokens';\nimport {\n  themeTransitionClass,\n  themeTransitionDuration,\n  ThemeTransition,\n} from '../themeTransition/ThemeTransition';\n\n/**\n * Rather than encouraging consumers to use `styled-components`' theming API\n * directly, we extend it. This means we have more flexibility in the future to\n * change the underlying framework (e.g. another CSS-in-JS library), if\n * absolutely necessary.\n */\n\n/**\n * Theme Provider\n *\n * See https://www.styled-components.com/docs/advanced#theming\n */\nexport type ThemeProviderProps = {\n  theme: Theme;\n  children?: React.ReactChild;\n  hasTransition?: boolean;\n};\n\nconst ThemeProvider: React.FC<ThemeProviderProps> = ({\n  children,\n  theme,\n  hasTransition,\n}) => {\n  const initialTheme = React.useRef(true);\n\n  const handleChange = (themeObject: Theme) => {\n    if (hasTransition) {\n      if (initialTheme.current) {\n        initialTheme.current = false;\n        return themeObject;\n      }\n\n      /* Add the theme class, then remove once transitioned. */\n      document && document.documentElement.classList.add(themeTransitionClass);\n      setTimeout(() => {\n        document\n          && document.documentElement.classList.remove(themeTransitionClass);\n      }, themeTransitionDuration + 10);\n\n      return themeObject;\n    }\n\n    return themeObject;\n  };\n\n  return (\n    <StyledThemeProvider theme={() => handleChange(theme)}>\n      <React.Fragment>\n        <ThemeTransition />\n        {children}\n      </React.Fragment>\n    </StyledThemeProvider>\n  );\n};\n\nexport default ThemeProvider;\n"],"file":"ThemeProvider.js"}